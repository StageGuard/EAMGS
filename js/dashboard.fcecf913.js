"use strict";(self["webpackChunkeagwebui"]=self["webpackChunkeagwebui"]||[]).push([[966],{5884:function(e,t,a){a.r(t),a.d(t,{default:function(){return ve}});a(1703);var i=a(3396),n=a(7139),l=a(4870),s=a(8125),o={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"]},r=o,c={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"]},d={prefix:"fas",iconName:"server",icon:[512,512,[],"f233","M480 288H32c-17.62 0-32 14.38-32 32v128c0 17.62 14.38 32 32 32h448c17.62 0 32-14.38 32-32v-128C512 302.4 497.6 288 480 288zM352 408c-13.25 0-24-10.75-24-24s10.75-24 24-24s24 10.75 24 24S365.3 408 352 408zM416 408c-13.25 0-24-10.75-24-24s10.75-24 24-24s24 10.75 24 24S429.3 408 416 408zM480 32H32C14.38 32 0 46.38 0 64v128c0 17.62 14.38 32 32 32h448c17.62 0 32-14.38 32-32V64C512 46.38 497.6 32 480 32zM352 152c-13.25 0-24-10.75-24-24S338.8 104 352 104S376 114.8 376 128S365.3 152 352 152zM416 152c-13.25 0-24-10.75-24-24S402.8 104 416 104S440 114.8 440 128S429.3 152 416 152z"]},u={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},p=a(5140),v=a(2379);const g={class:"root-card"};var f=(0,i.aZ)({props:{id:null,name:null},setup(e){const t=e,a=(0,l.iH)([]),n=(0,l.iH)(null),s=(0,i.Fl)((()=>{const e=["-1h","now"];if(a.value.length<=2)return e;for(let t=2;t<a.value.length;t++)e.unshift(`-${t}h`);return e})),o=(0,i.Fl)((()=>{const e=Array.from(a.value);if(e.length<2)for(let t=0;t<2-e.length;t++)e.unshift(0);return e}));function r(e,t="rgb(20,172,254)"){const a=e.ctx.createLinearGradient(0,0,0,e.height);return a.addColorStop(0,t),a.addColorStop(.5,"rgb(255, 255, 255, 0)"),a}return(0,i.bv)((()=>{const e=(()=>{if(!n.value)throw new Error(`Canvas with id ${t.id} not found.`);const e=n.value.getContext("2d");if(!e)throw new Error(`Cannot get 2d context of canvas ${t.id}.`);return e})(),a=1e3,c=(0,l.iH)(a/s.value.length),d=new p.kL(e,{type:"line",data:{labels:s.value,datasets:[{data:o.value,borderColor:"rgb(20, 85, 254)",borderWidth:2,pointRadius:0,fill:{target:"origin",above(e){return r(e.chart)}},tension:.2}]},options:{responsive:!0,scales:{x:{grid:{display:!1}},y:{grid:{display:!1},suggestedMin:0,ticks:{stepSize:1}}},interaction:{mode:"nearest",axis:"x",intersect:!1},animations:{x:{type:"number",easing:"easeOutCubic",duration:c.value},y:{type:"number",easing:"easeOutCubic",duration:c.value}},plugins:{legend:{display:!1,position:"bottom"},title:{display:!0,position:"bottom",text:t.name}}}});(0,i.YP)(s,(()=>{d.data.labels=s.value,d.update()})),(0,i.YP)(o,(()=>{d.data.datasets[0].data=o.value,d.update()}))})),fetch(`${v.Z.host}/online?game=${t.id}`).then((e=>e.json())).then((e=>{-1!==e.result?a.value=e.record:console.log(`Failed to fetch online players for game ${t.id}: ${e.message}`)})).catch((e=>{console.log(`Failed to fetch online players for game ${t.id}: ${e}`)})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("canvas",{ref_key:"canvasDom",ref:n},null,512)]))}}),h=a(89);const m=(0,h.Z)(f,[["__scopeId","data-v-664eef71"]]);var y=m;const C=e=>((0,i.dD)("data-v-e27e70a8"),e=e(),(0,i.Cn)(),e),w={class:"home"},S=C((()=>(0,i._)("i",{class:"space20px"},null,-1))),_=(0,i.Uk)("Server Status "),k={id:"status-card"},b={class:"status-item-row"},$=C((()=>(0,i._)("div",{class:"status-item-name"},"Status",-1))),x={class:"status-item-value"},U={class:"status-item-row"},z=C((()=>(0,i._)("div",{class:"status-item-name"},"Database",-1))),j={class:"status-item-value"},M={class:"status-item-row"},D=C((()=>(0,i._)("div",{class:"status-item-name"},"Uptime",-1))),L={class:"status-item-value"},F={class:"status-item-row"},H=C((()=>(0,i._)("div",{class:"status-item-name"},"Profiles",-1))),I={class:"status-item-value"},E=C((()=>(0,i._)("i",{class:"space20px"},null,-1))),N=(0,i.Uk)("Online Players "),O={id:"online-players-card-row",style:{display:"flex",transition:"all 0.2s ease-in-out"}},Y=C((()=>(0,i._)("i",{class:"space20px"},null,-1))),q=(0,i.Uk)("Server Information "),P={key:0},R={id:"server-info"},W={class:"info-line"},Z=C((()=>(0,i._)("h3",{style:{display:"inline"}},"Server url :",-1))),T=C((()=>(0,i._)("span",{class:"space20px"},null,-1))),K={class:"info-line"},V=C((()=>(0,i._)("h3",{style:{display:"inline"}},"Supported model : ",-1))),A=C((()=>(0,i._)("span",{class:"space20px"},null,-1))),B={style:{"line-height":"40px"}},G={class:"info-line"},J=C((()=>(0,i._)("h3",{style:{display:"inline","margin-right":"10px"}},"PCB Id : ",-1))),Q={key:0,style:{display:"inline",color:"orangered"}},X={key:1,style:{display:"inline",color:"forestgreen"}},ee={key:2,style:{display:"block","margin-top":"20px","margin-left":"20px","line-height":"25px"}},te=(0,i.Uk)("You need to apply for a pcb id to join the server, "),ae=(0,i.Uk)("click here"),ie=(0,i.Uk)(" to apply for one."),ne=C((()=>(0,i._)("br",null,null,-1))),le=(0,i.Uk)("Note that you still need apply for a pcb id if the server switched to "),se=C((()=>(0,i._)("span",{style:{color:"orangered"}},"Required",-1))),oe=(0,i.Uk)(" state from "),re=C((()=>(0,i._)("span",{style:{color:"forestgreen"}},"Not specified",-1))),ce=(0,i.Uk)("."),de={key:3,style:{display:"block","margin-top":"20px","margin-left":"20px"}};var ue=(0,i.aZ)({setup(e){s.vI.add(d,u,r,c);const t=(0,i.f3)("server-status");if(void 0===t)throw new Error("server-status is not injected.");const a=(0,l.qj)({$injected:t.value.$delegate,online:(0,i.Fl)((()=>null!==t.value.$delegate.online?t.value.$delegate.online?"Online":"Offline":"Fetching...")),dbStatus:(0,i.Fl)((()=>null!==t.value.$delegate.dbStatus?t.value.$delegate.dbStatus?"Online":"Offline":"Fetching...")),startupTime:(()=>{const e=(0,l.iH)((new Date).getTime()/1e3);return-1!==t.value.$delegate.startupEpochSecond&&setInterval((()=>{e.value=(new Date).getTime()/1e3}),1e3),(0,i.Fl)((()=>{const a=t.value.$delegate.startupEpochSecond;return a?-1!==a?v(e.value,a):"-":"Fetching..."}))})(),profileCount:(0,i.Fl)((()=>t.value.$delegate.profileCount?-1!==t.value.$delegate.profileCount?t.value.$delegate.profileCount:"-":"Fetching..."))}),o=(()=>{const e=(0,i.f3)("games");if(void 0===e)throw new Error("games is not injected.");return(0,i.Fl)((()=>{const t=[];return e.value.forEach((e=>t.push(e.$delegate))),t}))})();function p(){console.log("123")}function v(e,t){const a=e-t/1e3,i=Math.floor(a/86400),n=Math.floor(a%86400/3600),l=Math.floor(a%3600/60),s=Math.floor(a%60);return`${i}d ${n}h ${l}m ${s}s`}return(e,t)=>{const s=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("h1",null,[(0,i.Wm)(s,{icon:"server"}),S,_]),(0,i._)("div",k,[(0,i._)("div",b,[$,(0,i._)("div",x,[(0,i._)("div",{class:"status-lamp",style:(0,n.j5)({"background-color":null!==(0,l.SU)(a).$injected.online?(0,l.SU)(a).$injected.online?"limegreen":"darkgray":"transparent"})},null,4),(0,i.Uk)(" "+(0,n.zw)((0,l.SU)(a).online),1)])]),(0,i._)("div",U,[z,(0,i._)("div",j,[(0,i._)("div",{class:"status-lamp",style:(0,n.j5)({"background-color":null!==(0,l.SU)(a).$injected.dbStatus?(0,l.SU)(a).$injected.dbStatus?"limegreen":"darkgray":"transparent"})},null,4),(0,i.Uk)(" "+(0,n.zw)((0,l.SU)(a).dbStatus),1)])]),(0,i._)("div",M,[D,(0,i._)("div",L,(0,n.zw)((0,l.SU)(a).startupTime),1)]),(0,i._)("div",F,[H,(0,i._)("div",I,(0,n.zw)((0,l.SU)(a).profileCount),1)])]),(0,i._)("h1",null,[(0,i.Wm)(s,{icon:"user"}),E,N]),(0,i._)("div",O,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,l.SU)(o),(e=>((0,i.wg)(),(0,i.j4)(y,{key:e.id,id:e.id,name:e.name,style:{margin:"15px"}},null,8,["id","name"])))),128))]),(0,i._)("h1",null,[(0,i.Wm)(s,{icon:"info-circle"}),Y,q]),(0,l.SU)(a).$injected.serverUrl?((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",R,[(0,i._)("div",W,[Z,T,(0,i._)("code",null,(0,n.zw)((0,l.SU)(a).$injected.serverUrl),1)]),(0,i._)("div",K,[V,A,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,l.SU)(o),(e=>((0,i.wg)(),(0,i.iD)("ul",{style:{"margin-right":"20px"},key:e.id},[(0,i._)("li",B,[(0,i.Uk)((0,n.zw)(e.name)+" : ",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.supportedVersions,(e=>((0,i.wg)(),(0,i.iD)("code",{style:{"margin-right":"10px"},key:e},(0,n.zw)(e),1)))),128))])])))),128))]),(0,i._)("div",G,[J,(0,l.SU)(a).$injected.pcbIdRequired?((0,i.wg)(),(0,i.iD)("h3",Q,"Required")):((0,i.wg)(),(0,i.iD)("h3",X,"Not specified")),(0,l.SU)(a).$injected.pcbIdRequired?((0,i.wg)(),(0,i.iD)("span",ee,[te,(0,i._)("a",{onClick:t[0]||(t[0]=e=>p()),href:"javascript:void(0);"},[(0,i.Wm)(s,{icon:"link",style:{"margin-right":"2px"}}),ae]),ie,ne,le,se,oe,re,ce])):((0,i.wg)(),(0,i.iD)("span",de,"You don't need to fill a specify pcb id in spice config, just join the server and play."))])])])):(0,i.kq)("",!0)])}}});const pe=(0,h.Z)(ue,[["__scopeId","data-v-e27e70a8"]]);var ve=pe}}]);
//# sourceMappingURL=dashboard.fcecf913.js.map